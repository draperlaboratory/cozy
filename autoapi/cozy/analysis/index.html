<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>cozy.analysis &#8212; cozy 1.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../../../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=4ae1632d" />
    <script src="../../../_static/documentation_options.js?v=56dcb7b8"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="cozy.claripy_ext" href="../claripy_ext/index.html" />
    <link rel="prev" title="cozy.__main__" href="../__main__/index.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-cozy.analysis">
<span id="cozy-analysis"></span><h1>cozy.analysis<a class="headerlink" href="#module-cozy.analysis" title="Link to this heading">¶</a></h1>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#cozy.analysis.FieldDiff" title="cozy.analysis.FieldDiff"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FieldDiff</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cozy.analysis.EqFieldDiff" title="cozy.analysis.EqFieldDiff"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EqFieldDiff</span></code></a></p></td>
<td><p>For a field to be equal, all subcomponents of the body must be equal. In this case, left_body and right_body</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cozy.analysis.NotEqLeaf" title="cozy.analysis.NotEqLeaf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NotEqLeaf</span></code></a></p></td>
<td><p>A not equal leaf is a field that cannot be further unpacked/traversed.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cozy.analysis.NotEqFieldDiff" title="cozy.analysis.NotEqFieldDiff"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NotEqFieldDiff</span></code></a></p></td>
<td><p>For a field to be not equal, there must be at least one subcomponent of the body that was not equal. In this case,</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cozy.analysis.DiffResult" title="cozy.analysis.DiffResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DiffResult</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cozy.analysis.StateDiff" title="cozy.analysis.StateDiff"><code class="xref py py-obj docutils literal notranslate"><span class="pre">StateDiff</span></code></a></p></td>
<td><p>StateDiff encapsulates the memoized state used by the difference method. This class is used internally by    Comparison and is typically not for external use.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cozy.analysis.CompatiblePair" title="cozy.analysis.CompatiblePair"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CompatiblePair</span></code></a></p></td>
<td><p>Stores information about comparing two compatible states.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cozy.analysis.Comparison" title="cozy.analysis.Comparison"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Comparison</span></code></a></p></td>
<td><p>This class stores all compatible pairs and orphaned states. An orphan state is one in which there is no compatible    state in the other execution tree. In most scenarios there will be no orphaned states.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#cozy.analysis._invalid_stack_addrs" title="cozy.analysis._invalid_stack_addrs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_invalid_stack_addrs</span></code></a>(→ range)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cozy.analysis._invalid_stack_overlap" title="cozy.analysis._invalid_stack_overlap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_invalid_stack_overlap</span></code></a>(invalid_stack_left, ...)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cozy.analysis._stack_addrs" title="cozy.analysis._stack_addrs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_stack_addrs</span></code></a>(→ range)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cozy.analysis.nice_name" title="cozy.analysis.nice_name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nice_name</span></code></a>(→ str | None)</p></td>
<td><p>This function attempts to create a human understandable name for an address, or returns None if it can't figure</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cozy.analysis.compare_side_effect" title="cozy.analysis.compare_side_effect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compare_side_effect</span></code></a>(→ FieldDiff)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cozy.analysis.hexify" title="cozy.analysis.hexify"><code class="xref py py-obj docutils literal notranslate"><span class="pre">hexify</span></code></a>(val0)</p></td>
<td><p>Recursively transforms all integers in a Python datastructure (that is mappable with functools_ext.fmap) to hex strings.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cozy.analysis._invalid_stack_addrs">
<span class="sig-prename descclassname"><span class="pre">cozy.analysis.</span></span><span class="sig-name descname"><span class="pre">_invalid_stack_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">angr.SimState</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">range</span></span></span><a class="headerlink" href="#cozy.analysis._invalid_stack_addrs" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cozy.analysis._invalid_stack_overlap">
<span class="sig-prename descclassname"><span class="pre">cozy.analysis.</span></span><span class="sig-name descname"><span class="pre">_invalid_stack_overlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">invalid_stack_left</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invalid_stack_right</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stack_change</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cozy.analysis._invalid_stack_overlap" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cozy.analysis._stack_addrs">
<span class="sig-prename descclassname"><span class="pre">cozy.analysis.</span></span><span class="sig-name descname"><span class="pre">_stack_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">angr.SimState</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">range</span></span></span><a class="headerlink" href="#cozy.analysis._stack_addrs" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cozy.analysis.nice_name">
<span class="sig-prename descclassname"><span class="pre">cozy.analysis.</span></span><span class="sig-name descname"><span class="pre">nice_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">angr.SimState</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">malloced_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">portion.IntervalDict</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">portion.Interval</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#cozy.analysis.nice_name" title="Link to this definition">¶</a></dt>
<dd><p>This function attempts to create a human understandable name for an address, or returns None if it can’t figure
one out.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cozy.analysis.FieldDiff">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cozy.analysis.</span></span><span class="sig-name descname"><span class="pre">FieldDiff</span></span><a class="headerlink" href="#cozy.analysis.FieldDiff" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cozy.analysis.EqFieldDiff">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cozy.analysis.</span></span><span class="sig-name descname"><span class="pre">EqFieldDiff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left_body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right_body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cozy.analysis.EqFieldDiff" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cozy.analysis.FieldDiff" title="cozy.analysis.FieldDiff"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FieldDiff</span></code></a></p>
<p>For a field to be equal, all subcomponents of the body must be equal. In this case, left_body and right_body
should not hold any further FieldDiffs within themselves. Rather left_body and right_body should be the entire
fields for which differencing was checked (and it was determined that all subfields are equal).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.EqFieldDiff.left_body">
<span class="sig-name descname"><span class="pre">left_body</span></span><a class="headerlink" href="#cozy.analysis.EqFieldDiff.left_body" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.EqFieldDiff.right_body">
<span class="sig-name descname"><span class="pre">right_body</span></span><a class="headerlink" href="#cozy.analysis.EqFieldDiff.right_body" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cozy.analysis.NotEqLeaf">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cozy.analysis.</span></span><span class="sig-name descname"><span class="pre">NotEqLeaf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left_leaf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right_leaf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cozy.analysis.NotEqLeaf" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cozy.analysis.FieldDiff" title="cozy.analysis.FieldDiff"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FieldDiff</span></code></a></p>
<p>A not equal leaf is a field that cannot be further unpacked/traversed.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.NotEqLeaf.left_leaf">
<span class="sig-name descname"><span class="pre">left_leaf</span></span><a class="headerlink" href="#cozy.analysis.NotEqLeaf.left_leaf" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.NotEqLeaf.right_leaf">
<span class="sig-name descname"><span class="pre">right_leaf</span></span><a class="headerlink" href="#cozy.analysis.NotEqLeaf.right_leaf" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cozy.analysis.NotEqFieldDiff">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cozy.analysis.</span></span><span class="sig-name descname"><span class="pre">NotEqFieldDiff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body_diff</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cozy.analysis.NotEqFieldDiff" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cozy.analysis.FieldDiff" title="cozy.analysis.FieldDiff"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FieldDiff</span></code></a></p>
<p>For a field to be not equal, there must be at least one subcomponent of the body that was not equal. In this case,
body_diff will hold further FieldDiffs within itself. Equal subfields of the bodies will be
represented by EqFieldDiff, whereas unequal subfields will be represented by further nested NotEqFieldDiff.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.NotEqFieldDiff.body_diff">
<span class="sig-name descname"><span class="pre">body_diff</span></span><a class="headerlink" href="#cozy.analysis.NotEqFieldDiff.body_diff" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cozy.analysis.compare_side_effect">
<span class="sig-prename descclassname"><span class="pre">cozy.analysis.</span></span><span class="sig-name descname"><span class="pre">compare_side_effect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">joint_solver</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left_se</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right_se</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cozy.analysis.FieldDiff" title="cozy.analysis.FieldDiff"><span class="pre">FieldDiff</span></a></span></span><a class="headerlink" href="#cozy.analysis.compare_side_effect" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cozy.analysis.DiffResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cozy.analysis.</span></span><span class="sig-name descname"><span class="pre">DiffResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mem_diff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">range</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">claripy.ast.bits</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">claripy.ast.bits</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reg_diff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">claripy.ast.bits</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">claripy.ast.bits</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">side_effect_diff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../side_effect/index.html#cozy.side_effect.PerformedSideEffect" title="cozy.side_effect.PerformedSideEffect"><span class="pre">cozy.side_effect.PerformedSideEffect</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../side_effect/index.html#cozy.side_effect.PerformedSideEffect" title="cozy.side_effect.PerformedSideEffect"><span class="pre">cozy.side_effect.PerformedSideEffect</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#cozy.analysis.FieldDiff" title="cozy.analysis.FieldDiff"><span class="pre">FieldDiff</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cozy.analysis.DiffResult" title="Link to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.DiffResult.mem_diff">
<span class="sig-name descname"><span class="pre">mem_diff</span></span><a class="headerlink" href="#cozy.analysis.DiffResult.mem_diff" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.DiffResult.reg_diff">
<span class="sig-name descname"><span class="pre">reg_diff</span></span><a class="headerlink" href="#cozy.analysis.DiffResult.reg_diff" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.DiffResult.side_effect_diff">
<span class="sig-name descname"><span class="pre">side_effect_diff</span></span><a class="headerlink" href="#cozy.analysis.DiffResult.side_effect_diff" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cozy.analysis.StateDiff">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cozy.analysis.</span></span><span class="sig-name descname"><span class="pre">StateDiff</span></span><a class="headerlink" href="#cozy.analysis.StateDiff" title="Link to this definition">¶</a></dt>
<dd><p>StateDiff encapsulates the memoized state used by the difference method. This class is used internally by    Comparison and is typically not for external use.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.StateDiff.cores">
<span class="sig-name descname"><span class="pre">cores</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">frozenset</span><span class="p"><span class="pre">[</span></span><span class="pre">claripy.ast.bool</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#cozy.analysis.StateDiff.cores" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cozy.analysis.StateDiff.difference">
<span class="sig-name descname"><span class="pre">difference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">angr.SimState</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">angr.SimState</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">collections.abc.Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">range</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_mem_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_reg_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_side_effect_diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_unsat_core</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simplify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_constraints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cozy.analysis.DiffResult" title="cozy.analysis.DiffResult"><span class="pre">DiffResult</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#cozy.analysis.StateDiff.difference" title="Link to this definition">¶</a></dt>
<dd><p>Compares two states to find differences in memory. This function will return None if the two states have        non-intersecting inputs. Otherwise, it will return a dict of addresses and a dict of registers which are        different between the two. This function is based off of        angr.analyses.congruency_check.CongruencyCheck().compare_states, but has been customized for our purposes. Note        that this function may use memoization to enhance performance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sl</strong> (<em>SimState</em>) – The first state to compare</p></li>
<li><p><strong>sr</strong> (<em>SimState</em>) – The second state to compare</p></li>
<li><p><strong>ignore_addrs</strong> (<em>collections.abc.Iterable</em><em>[</em><em>range</em><em>] </em><em>| </em><em>None</em>) – Memory addresses to ignore when doing the memory        diffing. This representation is more efficient than a set of integers since the ranges involved can be quite        large.</p></li>
<li><p><strong>compute_mem_diff</strong> (<em>bool</em>) – If this flag is True, then we will diff the memory. If this is false, then the        first element of the return tuple will be None.</p></li>
<li><p><strong>compute_reg_diff</strong> (<em>bool</em>) – If this flag is True, then we will diff the registers. If this is false, then the        second element of the return tuple will be None.</p></li>
<li><p><strong>use_unsat_core</strong> (<em>bool</em>) – If this flag is True, then we will use unsat core optimization to speed up        comparison of pairs of states. This option may cause errors in Z3, so disable if this occurs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None if the two states are not compatible, otherwise returns an object containing the memory,        register differences, and side effect differences.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#cozy.analysis.DiffResult" title="cozy.analysis.DiffResult">DiffResult</a> | None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cozy.analysis.hexify">
<span class="sig-prename descclassname"><span class="pre">cozy.analysis.</span></span><span class="sig-name descname"><span class="pre">hexify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cozy.analysis.hexify" title="Link to this definition">¶</a></dt>
<dd><p>Recursively transforms all integers in a Python datastructure (that is mappable with functools_ext.fmap) to hex strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>val0</strong> – The datastructure to traverse.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A deep copy of the datastructure, with all integers converted to hex strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cozy.analysis.CompatiblePair">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cozy.analysis.</span></span><span class="sig-name descname"><span class="pre">CompatiblePair</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_left</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../terminal_state/index.html#cozy.terminal_state.TerminalState" title="cozy.terminal_state.TerminalState"><span class="pre">cozy.terminal_state.TerminalState</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_right</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../terminal_state/index.html#cozy.terminal_state.TerminalState" title="cozy.terminal_state.TerminalState"><span class="pre">cozy.terminal_state.TerminalState</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mem_diff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">range</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">claripy.ast.Base</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">claripy.ast.Base</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reg_diff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">claripy.ast.Base</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">claripy.ast.Base</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">side_effect_diff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../side_effect/index.html#cozy.side_effect.PerformedSideEffect" title="cozy.side_effect.PerformedSideEffect"><span class="pre">cozy.side_effect.PerformedSideEffect</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../side_effect/index.html#cozy.side_effect.PerformedSideEffect" title="cozy.side_effect.PerformedSideEffect"><span class="pre">cozy.side_effect.PerformedSideEffect</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#cozy.analysis.FieldDiff" title="cozy.analysis.FieldDiff"><span class="pre">FieldDiff</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mem_diff_ip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">frozenset</span><span class="p"><span class="pre">[</span></span><span class="pre">claripy.ast.Base</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">frozenset</span><span class="p"><span class="pre">[</span></span><span class="pre">claripy.ast.Base</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compare_std_out</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compare_std_err</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cozy.analysis.CompatiblePair" title="Link to this definition">¶</a></dt>
<dd><p>Stores information about comparing two compatible states.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state_left</strong> (<a class="reference internal" href="../terminal_state/index.html#cozy.terminal_state.TerminalState" title="cozy.terminal_state.TerminalState"><em>TerminalState</em></a>) – Information pertaining specifically to the pre-patched state being compared.</p></li>
<li><p><strong>state_right</strong> (<a class="reference internal" href="../terminal_state/index.html#cozy.terminal_state.TerminalState" title="cozy.terminal_state.TerminalState"><em>TerminalState</em></a>) – Information pertaining specifically to the post-patched state being compared.</p></li>
<li><p><strong>mem_diff</strong> (<em>dict</em><em>[</em><em>range</em><em>, </em><em>tuple</em><em>[</em><em>claripy.ast.Base</em><em>, </em><em>claripy.ast.Base</em><em>]</em><em>]</em>) – Maps memory addresses to pairs of claripy    ASTs, where the left element of the tuple is the data in memory for state_left, and the right element of the tuple    is what was found in memory for state_right. Only memory locations that are different are saved in this dict.</p></li>
<li><p><strong>reg_diff</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>tuple</em><em>[</em><em>claripy.ast.Base</em><em>, </em><em>claripy.ast.Base</em><em>]</em><em>]</em>) – Similar to mem_diff, except that the dict is    keyed by register names. Note that some registers may be subparts of another. For example in x64, EAX is a    subregister of RAX.</p></li>
<li><p><strong>side_effect_diff</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>list</em><em>[</em><em>tuple</em><em>[</em><a class="reference internal" href="../side_effect/index.html#cozy.side_effect.PerformedSideEffect" title="cozy.side_effect.PerformedSideEffect"><em>PerformedSideEffect</em></a><em> | </em><em>None</em><em>, </em><a class="reference internal" href="../side_effect/index.html#cozy.side_effect.PerformedSideEffect" title="cozy.side_effect.PerformedSideEffect"><em>PerformedSideEffect</em></a><em> | </em><em>None</em><em>, </em><a class="reference internal" href="#cozy.analysis.FieldDiff" title="cozy.analysis.FieldDiff"><em>FieldDiff</em></a><em>]</em><em>]</em><em>]</em>) – Maps side effect channels to a list of 3 element tuples, where the first element is the performed side effect    from the left binary, the second element is the performed side effect from the right binary, and the third element    is the diff between the body of the side effects.</p></li>
<li><p><strong>mem_diff_ip</strong> (<em>dict</em><em>[</em><em>int</em><em>, </em><em>tuple</em><em>[</em><em>frozenset</em><em>[</em><em>claripy.ast.Base</em><em>]</em><em>]</em><em>, </em><em>frozenset</em><em>[</em><em>claripy.ast.Base</em><em>]</em><em>]</em>) – Maps memory addresses    to a set of instruction pointers that the program was at when it wrote that byte in memory. In most cases the    frozensets will have a single element, but this may not be the case in the scenario where a symbolic value    determined the write address.</p></li>
<li><p><strong>compare_std_out</strong> (<em>bool</em>) – If True then we should consider stdout when checking if the two input states are equal.</p></li>
<li><p><strong>compare_std_err</strong> (<em>bool</em>) – If True then we should consider stderr when checking if the two input states are equal.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.CompatiblePair.state_left">
<span class="sig-name descname"><span class="pre">state_left</span></span><a class="headerlink" href="#cozy.analysis.CompatiblePair.state_left" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.CompatiblePair.state_right">
<span class="sig-name descname"><span class="pre">state_right</span></span><a class="headerlink" href="#cozy.analysis.CompatiblePair.state_right" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.CompatiblePair.mem_diff">
<span class="sig-name descname"><span class="pre">mem_diff</span></span><a class="headerlink" href="#cozy.analysis.CompatiblePair.mem_diff" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.CompatiblePair.reg_diff">
<span class="sig-name descname"><span class="pre">reg_diff</span></span><a class="headerlink" href="#cozy.analysis.CompatiblePair.reg_diff" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.CompatiblePair.side_effect_diff">
<span class="sig-name descname"><span class="pre">side_effect_diff</span></span><a class="headerlink" href="#cozy.analysis.CompatiblePair.side_effect_diff" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.CompatiblePair.mem_diff_ip">
<span class="sig-name descname"><span class="pre">mem_diff_ip</span></span><a class="headerlink" href="#cozy.analysis.CompatiblePair.mem_diff_ip" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.CompatiblePair.compare_std_out">
<span class="sig-name descname"><span class="pre">compare_std_out</span></span><a class="headerlink" href="#cozy.analysis.CompatiblePair.compare_std_out" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.CompatiblePair.compare_std_err">
<span class="sig-name descname"><span class="pre">compare_std_err</span></span><a class="headerlink" href="#cozy.analysis.CompatiblePair.compare_std_err" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cozy.analysis.CompatiblePair.equal_side_effects">
<span class="sig-name descname"><span class="pre">equal_side_effects</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#cozy.analysis.CompatiblePair.equal_side_effects" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cozy.analysis.CompatiblePair.equal">
<span class="sig-name descname"><span class="pre">equal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#cozy.analysis.CompatiblePair.equal" title="Link to this definition">¶</a></dt>
<dd><p>Determines if the two compatible states are observationally equal. That is, they contain the same memory        contents, registers, stdout, and stderr after execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the two compatible states are observationally equal, and False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cozy.analysis.CompatiblePair.concrete_examples">
<span class="sig-name descname"><span class="pre">concrete_examples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_examples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../concrete/index.html#cozy.concrete.CompatiblePairInput" title="cozy.concrete.CompatiblePairInput"><span class="pre">cozy.concrete.CompatiblePairInput</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cozy.analysis.CompatiblePair.concrete_examples" title="Link to this definition">¶</a></dt>
<dd><p>Concretizes the arguments used to put the program in these states by jointly using the constraints attached to        the compatible states.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>any</em>) – The input arguments to concretize. This argument may be a Python datastructure, the         concretizer will make a deep copy with claripy symbolic variables replaced with concrete values.</p></li>
<li><p><strong>num_examples</strong> (<em>int</em>) – The maximum number of concrete examples to generate for this particular pair.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of concrete inputs that satisfy both constraints attached to the states.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="../concrete/index.html#cozy.concrete.CompatiblePairInput" title="cozy.concrete.CompatiblePairInput">CompatiblePairInput</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cozy.analysis.Comparison">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cozy.analysis.</span></span><span class="sig-name descname"><span class="pre">Comparison</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pre_patched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../session/index.html#cozy.session.RunResult" title="cozy.session.RunResult"><span class="pre">cozy.session.RunResult</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_patched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../session/index.html#cozy.session.RunResult" title="cozy.session.RunResult"><span class="pre">cozy.session.RunResult</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">range</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_invalid_stack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compare_memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compare_registers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compare_side_effects</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compare_std_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compare_std_err</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_unsat_core</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simplify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cozy.analysis.Comparison" title="Link to this definition">¶</a></dt>
<dd><p>This class stores all compatible pairs and orphaned states. An orphan state is one in which there is no compatible    state in the other execution tree. In most scenarios there will be no orphaned states.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pairs</strong> (<em>dict</em><em>[</em><em>tuple</em><em>[</em><em>SimState</em><em>, </em><em>SimState</em><em>]</em><em>, </em><a class="reference internal" href="#cozy.analysis.CompatiblePair" title="cozy.analysis.CompatiblePair"><em>CompatiblePair</em></a><em>]</em>) – pairs stores a dictionary that maps a pair of    (pre_patch_state, post_patch_state) compatible states to their comparison information</p></li>
<li><p><strong>orphans_left</strong> (<em>set</em><em>[</em><a class="reference internal" href="../terminal_state/index.html#cozy.terminal_state.TerminalState" title="cozy.terminal_state.TerminalState"><em>TerminalState</em></a><em>]</em>) – Pre-patched states for which there are 0 corresponding compatible states in    the post-patch</p></li>
<li><p><strong>orphans_right</strong> (<em>set</em><em>[</em><a class="reference internal" href="../terminal_state/index.html#cozy.terminal_state.TerminalState" title="cozy.terminal_state.TerminalState"><em>TerminalState</em></a><em>]</em>) – Post-patched states for which there are 0 corresponding compatible states    in the pre-patch</p></li>
</ul>
</dd>
</dl>
<p>Compares a bundle of pre-patched states with a bundle of post-patched states.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pre_patched</strong> (<em>project.RunResult</em>) – The pre-patched state bundle</p></li>
<li><p><strong>post_patched</strong> (<em>project.RunResult</em>) – The post-patched state bundle</p></li>
<li><p><strong>ignore_addrs</strong> (<em>list</em><em>[</em><em>range</em><em>] </em><em>| </em><em>None</em>) – A list of addresses ranges to ignore when comparing memory.</p></li>
<li><p><strong>ignore_invalid_stack</strong> (<em>bool</em>) – If this flag is True, then memory differences in locations previously        occupied by the stack are ignored.</p></li>
<li><p><strong>compare_memory</strong> (<em>bool</em>) – If True, then the analysis will compare locations in the program memory.</p></li>
<li><p><strong>compare_registers</strong> (<em>bool</em>) – If True, then the analysis will compare registers used by the program.</p></li>
<li><p><strong>compare_side_effects</strong> (<em>bool</em>) – If True, then the analysis will compare side effects outputted by the program.</p></li>
<li><p><strong>compare_std_out</strong> (<em>bool</em>) – If True, then the analysis will save stdout written by the program in the results.        Note that angr currently concretizes values written to stdout, so these values will be binary strings.</p></li>
<li><p><strong>compare_std_err</strong> (<em>bool</em>) – If True, then the analysis will save stderr written by the program in the results.</p></li>
<li><p><strong>use_unsat_core</strong> (<em>bool</em>) – If this flag is True, then we will use unsat core optimization to speed up        comparison of pairs of states. This option may cause errors in Z3, so disable if this occurs.</p></li>
<li><p><strong>simplify</strong> (<em>bool</em>) – If this flag is True, then symbolic memory and register differences will be simplified        as much as possible. This flag is typically only necessary if you want to do some deep inspection of symbolic        contents. simplify can speed things down a lot, and symbolic expressions are usually very complex to the point        where they are not easily understandable. This is why in most scenarios the flag should be left as False.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.Comparison.pairs">
<span class="sig-name descname"><span class="pre">pairs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">angr.SimState</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">angr.SimState</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#cozy.analysis.CompatiblePair" title="cozy.analysis.CompatiblePair"><span class="pre">CompatiblePair</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cozy.analysis.Comparison.pairs" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.Comparison.orphans_left">
<span class="sig-name descname"><span class="pre">orphans_left</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">set</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../terminal_state/index.html#cozy.terminal_state.TerminalState" title="cozy.terminal_state.TerminalState"><span class="pre">cozy.terminal_state.TerminalState</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cozy.analysis.Comparison.orphans_left" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cozy.analysis.Comparison.orphans_right">
<span class="sig-name descname"><span class="pre">orphans_right</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">set</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../terminal_state/index.html#cozy.terminal_state.TerminalState" title="cozy.terminal_state.TerminalState"><span class="pre">cozy.terminal_state.TerminalState</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cozy.analysis.Comparison.orphans_right" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cozy.analysis.Comparison.get_pair">
<span class="sig-name descname"><span class="pre">get_pair</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_left</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">angr.SimState</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_right</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">angr.SimState</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cozy.analysis.CompatiblePair" title="cozy.analysis.CompatiblePair"><span class="pre">CompatiblePair</span></a></span></span><a class="headerlink" href="#cozy.analysis.Comparison.get_pair" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves a CompatiblePair given two compatible input states.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state_left</strong> (<em>SimState</em>) – The pre-patched state</p></li>
<li><p><strong>state_right</strong> (<em>SimState</em>) – The post-patched state</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The CompatiblePair object corresponding to this compatible state pair.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#cozy.analysis.CompatiblePair" title="cozy.analysis.CompatiblePair">CompatiblePair</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cozy.analysis.Comparison.is_compatible">
<span class="sig-name descname"><span class="pre">is_compatible</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_left</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">angr.SimState</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_right</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">angr.SimState</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#cozy.analysis.Comparison.is_compatible" title="Link to this definition">¶</a></dt>
<dd><p>Returns True when the two input states are compatible based on the pairs stored in this object, and False        otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state_left</strong> (<em>SimState</em>) – The pre-patched state</p></li>
<li><p><strong>state_right</strong> (<em>SimState</em>) – The post-patched state</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the input states are compatible, and False otherwise</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cozy.analysis.Comparison.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">collections.abc.Iterator</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cozy.analysis.CompatiblePair" title="cozy.analysis.CompatiblePair"><span class="pre">CompatiblePair</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cozy.analysis.Comparison.__iter__" title="Link to this definition">¶</a></dt>
<dd><p>Iterates over compatible pairs stored in the comparison.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An iterator over compatible pairs.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Iterator[<a class="reference internal" href="#cozy.analysis.CompatiblePair" title="cozy.analysis.CompatiblePair">CompatiblePair</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cozy.analysis.Comparison.verify">
<span class="sig-name descname"><span class="pre">verify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verification_assertion</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cozy.functools_ext.Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cozy.analysis.CompatiblePair" title="cozy.analysis.CompatiblePair"><span class="pre">CompatiblePair</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">claripy.ast.Base</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cozy.analysis.CompatiblePair" title="cozy.analysis.CompatiblePair"><span class="pre">CompatiblePair</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cozy.analysis.Comparison.verify" title="Link to this definition">¶</a></dt>
<dd><p>Determines what compatible state pairs are valid with respect to a verification assertion. Note that the        comparison results are verified with respect to the verification_assertion if the returned list is empty        (has length 0).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>verification_assertion</strong> (<em>Callable</em><em>[</em><em>[</em><a class="reference internal" href="#cozy.analysis.CompatiblePair" title="cozy.analysis.CompatiblePair"><em>CompatiblePair</em></a><em>]</em><em>, </em><em>claripy.ast.Base</em><em> | </em><em>bool</em><em>]</em>) – A function which takes in a        compatible pair and returns a claripy expression which must be satisfiable for all inputs while under the        joint constraints of the state pair. Alternatively the function can return a bool. If the return value        is False, this will be considered a verification failure. If the return value is True, this will be considered        a verification success.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of all compatible pairs for which there was a concrete input that caused the verification        assertion to fail.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="#cozy.analysis.CompatiblePair" title="cozy.analysis.CompatiblePair">CompatiblePair</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cozy.analysis.Comparison.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concrete_post_processor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cozy.functools_ext.Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_examples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#cozy.analysis.Comparison.report" title="Link to this definition">¶</a></dt>
<dd><p>Generates a human-readable report of the result object, saved as a string. This string is suitable for printing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>any</em>) – The symbolic/concolic arguments used during exeuction, here these args are concretized so that        we can give examples of concrete input.</p></li>
<li><p><strong>concrete_post_processor</strong> (<em>Callable</em><em>[</em><em>[</em><em>any</em><em>]</em><em>, </em><em>any</em><em>] </em><em>| </em><em>None</em>) – This function is used to post-process concretized        versions of args before they are added to the return string. Some examples of this function include converting        an integer to a negative number due to use of two’s complement, or slicing off parts of the argument based on        another part of the input arguments.</p></li>
<li><p><strong>num_examples</strong> (<em>int</em>) – The number of concrete examples to show the user.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A human-readable summary of the comparison.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">cozy</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../launchingavisualization.html">Launching a Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../concolic.html">Using Concolic Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hooks.html">Dealing with Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sideeffects.html">Modeling I/O Side Effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../underconstrained.html">Underconstrained Execution</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">cozy</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../__main__/index.html">cozy.__main__</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">cozy.analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../claripy_ext/index.html">cozy.claripy_ext</a></li>
<li class="toctree-l4"><a class="reference internal" href="../concolic/index.html">cozy.concolic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../concrete/index.html">cozy.concrete</a></li>
<li class="toctree-l4"><a class="reference internal" href="../constants/index.html">cozy.constants</a></li>
<li class="toctree-l4"><a class="reference internal" href="../directive/index.html">cozy.directive</a></li>
<li class="toctree-l4"><a class="reference internal" href="../execution_graph/index.html">cozy.execution_graph</a></li>
<li class="toctree-l4"><a class="reference internal" href="../functools_ext/index.html">cozy.functools_ext</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hooks/index.html">cozy.hooks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../log/index.html">cozy.log</a></li>
<li class="toctree-l4"><a class="reference internal" href="../primitives/index.html">cozy.primitives</a></li>
<li class="toctree-l4"><a class="reference internal" href="../project/index.html">cozy.project</a></li>
<li class="toctree-l4"><a class="reference internal" href="../server/index.html">cozy.server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../session/index.html">cozy.session</a></li>
<li class="toctree-l4"><a class="reference internal" href="../side_effect/index.html">cozy.side_effect</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stubs/index.html">cozy.stubs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../terminal_state/index.html">cozy.terminal_state</a></li>
<li class="toctree-l4"><a class="reference internal" href="../types/index.html">cozy.types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../underconstrained/index.html">cozy.underconstrained</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">API Reference</a><ul>
  <li><a href="../index.html">cozy</a><ul>
      <li>Previous: <a href="../__main__/index.html" title="previous chapter">cozy.__main__</a></li>
      <li>Next: <a href="../claripy_ext/index.html" title="next chapter">cozy.claripy_ext</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, The Charles Stark Draper Laboratory.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../../_sources/autoapi/cozy/analysis/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>